<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Lyle Luppes" /><link rel="canonical" href="https://lluppesms.github.io/Docs/CreateGitHubSecrets/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Creating GitHub Repository Secrets - Lyle's Reference Library</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../assets/stylesheets/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Creating GitHub Repository Secrets";
        var mkdocs_page_input_path = "CreateGitHubSecrets.md";
        var mkdocs_page_url = "/Docs/CreateGitHubSecrets/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../assets/images/LyleHeader.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Azure DevOps Setup</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../CreateServiceConnections/">Create Azure DevOps Service Connections</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CreateDevOpsEnvironments/">Create Azure DevOps Environments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CreateDevOpsVariableGroups/">Create Azure DevOps Variable Groups</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CreateNewPipeline/">Create Azure DevOps Pipelines</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Azure Developer Command (azd)</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../AzdDeploy/">Deploying with 'azd' (Azure Developer Command)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../AzdCompatibility/">Making Your Project 'azd' Compatible</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">GitHub Workflows</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Creating GitHub Repository Secrets</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#azure-credentials">Azure Credentials</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#bicep-configuration-values">Bicep Configuration Values</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#references">References</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Application Insights</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ReadAppInsightsLogFiles/">Querying Logs in Application Insights</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Lyle's Reference Library</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>GitHub Workflows &raquo;</li>
      <li>Creating GitHub Repository Secrets</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="set-up-github-secrets">Set up GitHub Secrets<a class="headerlink" href="#set-up-github-secrets" title="Permanent link">#</a></h1>
<p>The GitHub workflows in a project require several secrets set at the repository level.</p>
<hr />
<h2 id="azure-credentials">Azure Credentials<a class="headerlink" href="#azure-credentials" title="Permanent link">#</a></h2>
<p>You need to set up the Azure Credentials secret in the GitHub Secrets at the Repository level before you do anything else.</p>
<p>See https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-github-actions for more info.</p>
<p>It should look something like this:</p>
<p>AZURE_CREDENTIALS:</p>
<pre><code class="language-bash">{
  &quot;clientId&quot;: &quot;&lt;GUID&gt;&quot;, 
  &quot;clientSecret&quot;: &quot;&lt;GUID&gt;&quot;, 
  &quot;subscriptionId&quot;: &quot;&lt;GUID&gt;&quot;, 
  &quot;tenantId&quot;: &quot;&lt;GUID&gt;&quot;
}
</code></pre>
<hr />
<h2 id="bicep-configuration-values">Bicep Configuration Values<a class="headerlink" href="#bicep-configuration-values" title="Permanent link">#</a></h2>
<p>These secrets are used by the Bicep templates to configure the resource names that are deployed.<br />
Make sure the App_Name variable is unique to your deploy. It will be used as the basis for the function name and for all the other Azure resources, which must be globally unique.
To create these additional secrets, customize and run this command:</p>
<p>Required Values:</p>
<pre><code class="language-bash">gh secret set APP_NAME -b '&lt;yourInitials&gt;-&lt;appName&gt;'
gh secret set AZURE_SUBSCRIPTION_ID -b '&lt;yourAzureSubscriptionId&gt;'
gh secret set KEYVAULT_OWNER_USERID -b '&lt;owner1SID&gt;'
</code></pre>
<p>Optional Values: (such as if Twilio notifications are required!)</p>
<pre><code class="language-bash">gh secret set TWILIOACCOUNTSID -b '&lt;twilioAccountSid&gt;'
gh secret set TWILIOAUTHTOKEN -b '&lt;twilioAuthToken&gt;'
gh secret set TWILIOPHONENUMBER -b '&lt;twilioPhoneNumber&gt;'
</code></pre>
<!-- 
---
Note: I thought this was needed, but the app seems to work fine with it...!
## Azure Application Publishing Credentials

Before you run the application build/deploy workflows, the AZURE_FUNCTION_PUBLISH_PROFILE needs to have initialized for EACH ENVIRONMENT you deploy to.  The value that can be found by going in the portal to the Function App -> Deployment Center -> Manage Publish Profile -> Download.  It will look like this:

AZURE_FUNCTION_PUBLISH_PROFILE:

``` bash
<publishData>
  <publishProfile profileName="your-function - Web Deploy" 
     publishMethod="MSDeploy" ...></publishProfile>
  <publishProfile profileName="your-function - FTP" 
     publishMethod="FTP" ...></publishProfile>
  <publishProfile profileName="your-function - Zip Deploy" 
     publishMethod="ZipDeploy" ...></publishProfile>
</publishData>
``` -->

<hr />
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">#</a></h2>
<p><a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-github-actions">Deploying ARM Templates with GitHub Actions</a></p>
<p><a href="https://cli.github.com/manual/gh_secret_set">GitHub Secrets CLI</a></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../AzdCompatibility/" class="btn btn-neutral float-left" title="Making Your Project 'azd' Compatible"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../ReadAppInsightsLogFiles/" class="btn btn-neutral float-right" title="Querying Logs in Application Insights">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../AzdCompatibility/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../ReadAppInsightsLogFiles/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
